<link href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/css/lightbox.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/js/lightbox.min.js"></script>

<style>
.image-gallery {
  overflow: auto;
  margin-left: -1%!important;
  display: flex;
  flex-wrap: wrap;
  justify-content: space-around;
}

.image-gallery a {
  display: block;
  margin: 0.25%;
  width: calc(20% - 0.5%);
  text-align: center;
  text-decoration: none!important;
  overflow: hidden;
}

.image-gallery a img {
  width: 100%;
  height: auto;
  aspect-ratio: 1 / 1;
  object-fit: cover;
}
</style>

<div class="image-gallery">
{% for file in site.static_files %}
  {% if file.path contains include.folder %}
    {% if file.extname == '.jpg' or 
      file.extname == '.jpeg' or 
      file.extname == '.JPG' or 
      file.extname == '.JPEG' or
      file.extname == '.png' or
      file.extname == '.PNG' %}

      {% assign filenameparts = file.path | split: "/" %}
      {% assign filename = filenameparts | last | replace: file.extname,"" %}

      <a href="{{ file.path }}" data-lightbox="image-gallery" title="{{ filename }}">
        <img src="{{ file.path }}" alt="{{ filename }}" />
      </a>
    {% endif %}
  {% endif %}
{% endfor %}
</div>

<script>
  lightbox.option({
    'resizeDuration': 200,
    'wrapAround': true,
    'alwaysShowNavOnTouchDevices': true
  });
</script>
